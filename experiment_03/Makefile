# Makefile - æœºå™¨å­¦ä¹ è®­ç»ƒæµæ°´çº¿
.PYTHON: data features model evaluate all

# Step 1: è·å–æ•°æ®
data:
	@echo "ğŸ” Step 1: è·å–åŸå§‹æ•°æ®"
	python src/data/make_dataset.py

#  Step 2: ç‰¹å¾å·¥ç¨‹
features: data
	@echo "ğŸ”§ Step 2: æ„å»ºç‰¹å¾"
	python src/features/build_features.py

#  Step 3: æ¨¡å‹è®­ç»ƒ
model: features
	@echo "ğŸ¤– Step 3: è®­ç»ƒæ¨¡å‹"
	python src/models/train_model.py

# Step 4: æ¨¡å‹è¯„ä¼°
evaluate: model
	@echo "ğŸ“ˆ Step 4: è¯„ä¼°æ¨¡å‹"
	python src/evaluate/evaluate.py

# å…¨æµç¨‹
all: data features model evaluate
	@echo "ğŸ‰ è®­ç»ƒæµæ°´çº¿æ‰§è¡Œå®Œæˆï¼æ‰€æœ‰æ­¥éª¤å‡å·²æˆåŠŸè¿è¡Œã€‚"

# æ¸…ç†æ•°æ®
clean:
	@echo "ğŸ§¹ æ­£åœ¨æ¸…ç†ç”Ÿæˆçš„æ•°æ®..."
	rm -rf data/processed/*
	rm -rf models/*
	rm -rf reports/*
	@echo "âœ… æ¸…ç†å®Œæˆ"

# æŸ¥çœ‹å¸®åŠ©
help:
	@echo "å¯ç”¨å‘½ä»¤ï¼š"
	@echo "  make data      - è·å–æ•°æ®"
	@echo "  make features  - ç‰¹å¾å·¥ç¨‹"
	@echo "  make model     - è®­ç»ƒæ¨¡å‹"
	@echo "  make evaluate  - è¯„ä¼°æ¨¡å‹"
	@echo "  make all       - å®Œæ•´æµæ°´çº¿"
	@echo "  make clean     - æ¸…ç†ç”Ÿæˆæ–‡ä»¶"
	@echo "  make help      - æŸ¥çœ‹å¸®åŠ©"